<!doctype html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible">
    <title>Exo bonus#01 - Email ?</title>
    <link href="./bootstrap.min.css" rel="stylesheet" />
    <link href="./style.css" rel="stylesheet" />
</head>
<body>
<div class="card">
    <p class="h6 font-weight-bold text-center">Bonus#01 - Vous avez dit email ?</p>
    <div class="instructions">
        <p class="text-secondary">Votre mission si toutefois vous l'acceptez, est de vérifier que le champ saisi 
            correspond bien à une adresse électronique</p>
        <br />
        <p class="text-secondary">On considère un email comme valide si il est de la forme : 
            <pre>firstname.lastname@domain.ext</pre> avec :
        <ul class="text-secondary">
            <li><em>firstname</em> possiblement vide ; dans ce cas, le point séparant firstname de lastname ne doit pas exister>.</li>
            <li><em>lastname</em> doit contenir au moins 3 caractères.</li>
            <li><em>domain</em> doit contenir au moins 6 caractères et précédé de @.</li>
            <li><em>ext</em> (extension) doit contenir de 2 à 4 caractères.</li>
        </ul>
        </p>
        <br />
        <p class="text-success">L'étude de l'objet JavaScript <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">String</a> 
            et de ses méthodes, plus particulièrement la méthode <em>split(...)</em> 
            (voire la méthode <em>match(...)</em> pour les plus téméraires) sera utile !
        </p>
    </div>

    <br/>
    <label for="mail">Adresse électronique</label>
    <input type="text" id="mail" name="mail" placeholder="Votre adresse électronique">

    <button type="button" class="btn btn-primary" onclick="checkEmail()">
        Tester l'adresse électronique
    </button>

</div>

<script type="text/javascript">

    // Le plan : récupéré le firstname puis le last name (uniquement si +3 charact) , si pas de firstname l'omettre, fusioner les deux
    // en paralèle : récupéré le domain (verifier en amont si +6charac/commence par @) et le ext (doit commencer par . et max 3c apres) , les fusioner
    // opération finale verifier si toutes les var sont ok then display mail correct ou non

    // autre hypothèse, recupéré la value en tableau, trouver @, prendre ce qu'y a avant puis apres faire les controles



    let firstname ;  // bidule.  xxxx
    let lastname ;  // xxx CHOSE xxx
    let domain  ; // xxx @trucmuch xxx 
    let ext ; // xxx .com ou .fr etc
    let arobase = "@" ;

    function checkEmail() {
        // CODE HERE !
        let chaine = document.getElementById("mail").value ;
        console.log(chaine)  // récupération de la valeur

        // let arrayOfchaine = chaine.split(" ") ;  
        // console.log(arrayOfString) ;

        let arrayOfChaise = chaine.split() ;
        console.log(arrayOfChaise) ; // transforme la value en tableau

        const chaine1b1 = arrayOfChaise.toString() ; // retransforme en chaine de charactère ? mais pas en 1 par 1 charactere...
        console.log(chaine1b1) ;
       
       
        arrayOfChaise.indexOf("@") !== -1 ;
        console.log(arrayOfChaise.indexOf("@")) ;  // confirme la presence d'un @
        let longueur = arrayOfChaise.length ;
        console.log(longueur);



       // const fruit = ["pomme", "banna", " fraise", "mangue" ]; // ==== permet de cinder le tableau en partie
       // const debut = -3;                                         // une fois l'emplacement de l'@ trouvé
       // const elementsRetires = fruit.splice(debut);
       // console.log(fruit);
       // console.log(elementsRetires); 


    }



</script>
</body>
</html>